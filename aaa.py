from geopy.geocoders import Nominatim

# 初始化地理編碼器
geolocator = Nominatim(user_agent="tw_city_finder")

# 輸入經緯度（範例：台北市）
latitude = 25.0330
longitude = 121.5654

code_to_l = {"HWA": [121.61, 23.98], "ETL": [121.62, 24.16], "EYL": [121.6, 23.9], "ETM": [121.49, 23.97], "EHP": [121.75, 24.31], "ESL": [121.44, 23.81], "EAH": [121.74, 24.33], "EGC": [121.55, 23.71], "WHF": [121.27, 24.14], "ENA": [121.75, 24.43], "FUSS": [121.24, 24.25], "EWT": [121.78, 24.45], "EGFH": [121.43, 23.67], "NNS": [121.38, 24.44], "TWT": [121.16, 24.25], "NDS": [121.72, 24.63], "ENT": [121.57, 24.64], "TWD": [121.6, 24.08], "ETLH": [121.48, 24.21], "OWD": [121.18, 23.95], "B112": [120.43, 24.06], "SSD": [120.64, 22.74], "SPT": [120.49, 22.68], "SGL": [120.5, 22.72], "ECL": [120.96, 22.6], "KAU": [120.32, 22.57], "TWG": [121.08, 22.82], "ECU": [121.09, 22.86], "SGS": [120.59, 23.08], "CHN3": [120.36, 23.08], "STY": [120.77, 23.16], "TAI": [120.2, 23.0], "CHN1": [120.53, 23.19], "TAI1": [120.24, 23.04], "WTP": [120.62, 23.24], "SSH": [120.29, 23.14], "ELD": [121.03, 23.19], "EDH": [121.3, 22.97], "ECS": [121.22, 23.1], "SCL": [120.2, 23.17], "CHN4": [120.59, 23.35], "ALS": [120.81, 23.51], "CHY": [120.43, 23.5], "CHN5": [120.68, 23.6], "WGK": [120.57, 23.68], "WSF": [120.23, 23.64], "WDL": [120.54, 23.71], "WTC": [120.29, 23.86], "PNG": [119.56, 23.57], "WCH": [120.56, 24.08], "TWL": [120.5, 23.26], "TWC": [121.86, 24.61], "ILA": [121.76, 24.76], "NTC": [121.83, 24.85], "TWE": [121.68, 24.72], "TIPB": [121.83, 24.97], "TWB1": [122.0, 25.01], "NDT": [121.51, 24.6], "NWF": [121.78, 25.07], "TWA": [121.59, 24.98], "NHDH": [121.53, 24.96], "NSK": [121.37, 24.67], "NHY": [121.57, 25.04], "TAP": [121.51, 25.04], "BAC": [121.44, 25.0], "NWR": [121.66, 25.2], "TWS1": [121.42, 25.1], "NTY": [121.3, 25.0], "NTS": [121.45, 25.16], "KSHI": [121.18, 24.78], "NFF": [121.12, 24.63], "NCU": [121.19, 24.97], "NJD": [121.09, 24.74], "LIOB": [121.02, 24.65], "NST": [121.01, 24.63], "HSN1": [121.02, 24.78], "HSN": [121.01, 24.83], "NHW": [121.05, 25.01], "SHUL": [121.56, 23.79], "WHP": [120.95, 24.28], "NJN": [120.87, 24.68], "NML": [120.83, 24.56], "NSY": [120.77, 24.41], "WCS": [120.91, 24.06], "TWQ1": [120.77, 24.35], "WDJ": [120.64, 24.35], "WWC": [120.52, 24.26], "WNT1": [120.68, 23.91], "WHY": [120.85, 23.7], "WCH2": [120.54, 24.06], "WYL": [120.58, 23.96], "YUS": [120.96, 23.49], "WRL": [120.38, 23.9], "WTK": [120.39, 23.69], "WCKO": [120.6, 23.44], "CHN2": [120.47, 23.53], "WML": [120.22, 23.8], "CHY1": [120.29, 23.46], "EGA": [121.56, 23.97], "NLD": [121.77, 24.67], "ESF": [121.51, 23.87], "NOU": [121.77, 25.15], "EHY": [121.33, 23.5], "ECB": [121.45, 23.32], "FULB": [121.29, 23.2], "TCU": [120.68, 24.15], "CHK": [121.37, 23.1], "WCHH": [120.56, 24.08], "NXZ": [121.64, 25.08], "WSL": [120.23, 23.52], "TTN": [121.15, 22.75], "LDU": [121.47, 22.67], "TWF1": [121.31, 23.35], "TAW": [120.9, 22.36], "EAS": [120.86, 22.38], "SCZ": [120.63, 22.37], "LAY": [121.56, 22.04], "TWM1": [120.43, 22.82], "EGF": [121.48, 23.68], "HEN": [120.75, 22.0], "SNW": [120.75, 21.96], "WLC": [120.37, 22.35], "SEB": [120.86, 21.9], "SML": [120.91, 23.88], "TYC": [120.87, 23.91], "SCK": [120.09, 23.15], "WES": [120.62, 23.81], "CHN7": [120.24, 23.48], "WNT": [120.69, 23.88], "WPL": [120.95, 24.01], "WWF": [120.7, 24.04], "WDD": [120.56, 24.13], "WDS": [120.83, 24.26], "WYP": [120.65, 24.33], "NSD": [120.92, 24.54], "EYUL": [121.32, 23.35], "C015": [120.41, 23.35], "CHN8": [120.22, 23.35], "LONT": [121.13, 22.91], "SMG": [120.64, 22.71], "STYH": [120.78, 23.18], "SNS": [120.5, 23.22], "SHH": [120.35, 23.02], "SLG": [120.65, 22.99], "SCS": [120.49, 22.89], "EGS": [121.94, 24.84], "NWL": [121.5, 24.78], "A124": [121.55, 24.86], "B011": [121.29, 24.88], "NSX": [121.37, 24.94], "B219": [120.7, 24.04], "A024": [121.47, 25.02], "WJS": [120.73, 23.82], "C092": [120.49, 23.79], "EHD": [121.21, 23.15], "WCH1": [120.55, 24.07], "NMLH": [120.79, 24.54], "SNJ": [120.34, 22.75], "D009": [120.26, 22.87], "WSS": [120.26, 22.64], "KAU1": [120.31, 22.59], "SSP": [120.57, 22.48], "WDG": [119.67, 23.26], "TAWH": [120.89, 22.34], "SLIU": [120.8, 22.22], "SMS": [120.84, 22.02], "WDLH": [120.54, 23.69], "NPL": [121.71, 24.94], "NHD": [121.55, 24.9], "NGL": [121.92, 25.04], "ANP": [121.53, 25.18], "NSM": [121.59, 25.29], "ESA": [121.84, 24.58], "TWK1": [120.81, 21.94], "ICHU": [120.28, 23.36], "D033": [120.46, 22.46], "PCY": [122.08, 25.63], "KNM": [118.29, 24.41], "MSU": [119.92, 26.17], "H176": [120.94, 24.47], "CHKH": [121.4, 23.19], "EHYH": [121.35, 23.49], "WLCH": [120.38, 22.35], "DPDB": [120.93, 24.03]}

exit(0)
for code, coords in code_to_l.items():
    longitude, latitude  = coords
    print(latitude, longitude)
    print(f"經度: {longitude}, 緯度: {latitude}")
    # 反向地理編碼
    location = geolocator.reverse((latitude, longitude), language="zh-tw")

    # 提取城市名稱
    if location:
        address = location.address
        # 假設地址格式包含台灣城市名稱
        city = None
        for part in address.split(","):
            part = part.strip()
            if "市" in part or "縣" in part:
                city = part
                break
        code_to_city[code] = city
    else:
        print("無法找到對應城市")

print(code_to_city)